const translations = {
    'ru': {
        // Меню (уже есть)
        'menu.about': 'О факультете',
        'menu.for_students': 'Студенту',
        'menu.for_applicants': 'Абитуриенту',
        'menu.science': 'Наука',
        'menu.departments': 'Кафедры',
        'menu.links': 'Ссылки',
        'menu.contacts': 'Контакты',
        'menu.sitemap': 'Карта сайта',

        'menu.fac-tit': 'Факультет Цифровой Экономики',
        'menu.fac-desc': 'Факультет Цифровой Экономики',
        'menu.stud-tit': 'Для студентов',
        'menu.stud-desc': 'Все необходимое для учебы',
        'menu.abitur-tit': 'Для абитуриентов',
        'menu.abitur-desc': 'Все о поступлении',
        'menu.science-tit': 'Научная деятельность',
        'menu.science-desc': 'Исследования и разработки',
        'menu.faculty-tit': 'Наши кафедры',
        'menu.faculty-desc': 'Профессиональное образование',

        // Подменю (уже есть)
        'submenu.history': 'История',
        'submenu.deans_office': 'Деканат',
        'submenu.student_council': 'Студсовет',
        'submenu.trade_union': 'Профбюро',
        'submenu.brsm': 'БРМС',
        'submenu.schedule': 'Расписание',
        'submenu.materials': 'Учебные материалы',
        'submenu.scholarships': 'Стипендии',
        'submenu.admission_rules': 'Правила приема',
        'submenu.courses': 'Подготовительные курсы',
        'submenu.open_days': 'Дни открытых дверей',
        'submenu.directions': 'Научные направления',
        'submenu.conferences': 'Конференции',
        'submenu.publications': 'Публикации',
        'submenu.economic_informatics': 'Экономическая информатика',

        // Карта сайта
        'sitemap.title': 'Карта сайта',
        'sitemap.faculty': 'О факультете',
        'sitemap.faculty_history': 'История',
        'sitemap.faculty_deanery': 'Деканат',
        'sitemap.student_life': 'Студенческая жизнь',
        'sitemap.science': 'Наука',
        'sitemap.library': 'Электронная библиотека',
        'sitemap.contacts': 'Контакты',
        'sitemap.student': 'Студенту',
        'sitemap.schedule': 'Расписание',
        'sitemap.disciplines': 'Учебные дисциплины',
        'sitemap.forms': 'Бланки заявлений',
        'sitemap.portal': 'Образовательный портал',
        'sitemap.departments': 'Кафедры',
        'sitemap.higher_math': 'Высшей математики',
        'sitemap.it': 'Информационных технологий',
        'sitemap.math_methods': 'Математических методов в экономике',
        'sitemap.statistics': 'Статистики',
        'sistemap.enonomicinformatics': 'Экономической информатики',
        'sitemap.applicant': 'Абитуриенту',
        'sitemap.admission': 'Вступительная кампания',
        'sitemap.specialties': 'Специальности',
        'sitemap.scores': 'Проходные баллы прошлых лет',
        'sitemap.docs_deadlines': 'Сроки приема документов',
        'sitemap.docs_list': 'Перечень документов',
        'sitemap.study_terms': 'Сроки обучения',
        'sitemap.open_days': 'График Дней открытых дверей',
        'sitemap.dormitory': 'Общежитие',
        'sitemap.paid_education': 'Платная форма обучения',
        'sitemap.international': 'Международные связи',

        // Футер
        'footer.questions': 'Если у Вас возникли вопросы, обращайтесь по адресу',
        'footer.suggestions': 'Если есть предложения, можете написать нам',
        'footer.copyright': '© 2019-2025 БГЭУ ФЦЭ',
        'footer.address': '220070, г. Минск, пр. Партизанский 26, корпус 1, ауд. 1205'
    },
    'be': {
        // Меню
        'menu.about': 'Аб факультэце',
        'menu.for_students': 'Студэнту',
        'menu.for_applicants': 'Абітурыенту',
        'menu.science': 'Навука',
        'menu.departments': 'Кафедры',
        'menu.links': 'Спасылкі',
        'menu.contacts': 'Кантакты',
        'menu.sitemap': 'Карта сайта',

        'menu.fac-tit': 'Факультэт Лічбавай Эканомікі',
        'menu.fac-desc': 'Факультэт Лічбавай Эканомікі',
        'menu.stud-tit': 'Для студэнтаў',
        'menu.stud-desc': 'Усё неабходнае для вучобы',
        'menu.abitur-tit': 'Для абітурыентаў',
        'menu.abitur-desc': 'Усё аб паступленні',
        'menu.science-tit': 'Навуковая дзейнасць',
        'menu.science-desc': 'Дасьледаваньні і распрацоўкі',
        'menu.faculty-tit': 'Нашы кафедры',
        'menu.faculty-desc': 'Прафесійная адукацыя',

        // Подменю
        'submenu.history': 'Гісторыя',
        'submenu.deans_office': 'Дэканат',
        'submenu.student_council': 'Студсавет',
        'submenu.trade_union': 'Прафбюро',
        'submenu.brsm': 'БРСМ',
        'submenu.schedule': 'Расклад',
        'submenu.materials': 'Вучэбныя матэрыялы',
        'submenu.scholarships': 'Стыпендыі',
        'submenu.admission_rules': 'Правілы прыёму',
        'submenu.courses': 'Падрыхтоўчыя курсы',
        'submenu.open_days': 'Дні адкрытых дзвярэй',
        'submenu.directions': 'Навуковыя кірункі',
        'submenu.conferences': 'Канферэнцыі',
        'submenu.publications': 'Публікацыі',
        'submenu.economic_informatics': 'Эканамічная інфарматыка',

        // Карта сайта
        'sitemap.title': 'Карта сайта',
        'sitemap.faculty': 'Аб факультэце',
        'sitemap.faculty_history': 'Гісторыя',
        'sitemap.faculty_deanery': 'Дэканат',
        'sitemap.student_life': 'Студэнцкае жыццё',
        'sitemap.science': 'Навука',
        'sitemap.library': 'Электронная бібліятэка',
        'sitemap.contacts': 'Кантакты',
        'sitemap.student': 'Студэнту',
        'sitemap.schedule': 'Расклад',
        'sitemap.disciplines': 'Вучэбныя дысцыпліны',
        'sitemap.forms': 'Бланкі заяў',
        'sitemap.portal': 'Адукацыйны партал',
        'sitemap.departments': 'Кафедры',
        'sitemap.higher_math': 'Вышэйшай матэматыкі',
        'sitemap.it': 'Інфармацыйных тэхналогій',
        'sitemap.math_methods': 'Матэматычных метадаў у эканоміцы',
        'sitemap.statistics': 'Статыстыкі',
        'sistemap.enonomicinformatics': 'Эканамічнай інфарматыкi',
        'sitemap.applicant': 'Абітурыенту',
        'sitemap.admission': 'Уступная кампанія',
        'sitemap.specialties': 'Спецыяльнасці',
        'sitemap.scores': 'Праходныя баллы мінулых гадоў',
        'sitemap.docs_deadlines': 'Тэрміны прыёму дакументаў',
        'sitemap.docs_list': 'Пералік дакументаў',
        'sitemap.study_terms': 'Тэрміны навучання',
        'sitemap.open_days': 'Графік Дзён адкрытых дзвярэй',
        'sitemap.dormitory': 'Інтэрнат',
        'sitemap.paid_education': 'Платная форма навучання',
        'sitemap.international': 'Міжнародныя сувязі',

        // Футер
        'footer.questions': 'Калі ў вас узніклі пытанні, звяртайцеся па адрасе',
        'footer.suggestions': 'Калі ёсць прапановы, можаце напісаць нам',
        'footer.copyright': '© 2019-2025 БДЭУ ФЦЭ',
        'footer.address': '220070, г. Мінск, пр. Партызанскі 26, корпус 1, ауд. 1205'
    },
    'en': {
        // Меню
        'menu.about': 'About Faculty',
        'menu.for_students': 'For Students',
        'menu.for_applicants': 'For Applicants',
        'menu.science': 'Science',
        'menu.departments': 'Departments',
        'menu.links': 'Links',
        'menu.contacts': 'Contacts',
        'menu.sitemap': 'Site Map',

        'menu.fac-tit': 'Faculty of Digital Economy',
        'menu.fac-desc': 'Faculty of Digital Economy',
        'menu.stud-tit': 'For Students',
        'menu.stud-desc': 'Everything you need for studying',
        'menu.abitur-tit': 'For Applicants',
        'menu.abitur-desc': 'All about admission',
        'menu.science-tit': 'Research activities',
        'menu.science-desc': 'Research and development',
        'menu.faculty-tit': 'Our Departments',
        'menu.faculty-desc': 'Professional education',

        // Подменю
        'submenu.history': 'History',
        'submenu.deans_office': 'Dean\'s Office',
        'submenu.student_council': 'Student Council',
        'submenu.trade_union': 'Trade Union',
        'submenu.brsm': 'BRSM',
        'submenu.schedule': 'Schedule',
        'submenu.materials': 'Study materials',
        'submenu.scholarships': 'Scholarships',
        'submenu.admission_rules': 'Admission rules',
        'submenu.courses': 'Preparatory courses',
        'submenu.open_days': 'Open days',
        'submenu.directions': 'Research areas',
        'submenu.conferences': 'Conferences',
        'submenu.publications': 'Publications',
        'submenu.economic_informatics': 'Economic Informatics',

        // Карта сайта
        'sitemap.title': 'Site Map',
        'sitemap.faculty': 'About Faculty',
        'sitemap.faculty_history': 'History',
        'sitemap.faculty_deanery': 'Dean\'s Office',
        'sitemap.student_life': 'Student Life',
        'sitemap.science': 'Science',
        'sitemap.library': 'Digital Library',
        'sitemap.contacts': 'Contacts',
        'sitemap.student': 'For Students',
        'sitemap.schedule': 'Schedule',
        'sitemap.disciplines': 'Study Disciplines',
        'sitemap.forms': 'Application Forms',
        'sitemap.portal': 'Education Portal',
        'sitemap.departments': 'Departments',
        'sitemap.higher_math': 'Higher Mathematics',
        'sitemap.it': 'Information Technologies',
        'sitemap.math_methods': 'Mathematical Methods in Economics',
        'sitemap.statistics': 'Statistics',
        'sistemap.enonomicinformatics': 'Business Informatics',
        'sitemap.applicant': 'For Applicants',
        'sitemap.admission': 'Admission Campaign',
        'sitemap.specialties': 'Specialties',
        'sitemap.scores': 'Previous Years Passing Scores',
        'sitemap.docs_deadlines': 'Document Submission Deadlines',
        'sitemap.docs_list': 'List of Documents',
        'sitemap.study_terms': 'Study Terms',
        'sitemap.open_days': 'Open Days Schedule',
        'sitemap.dormitory': 'Dormitory',
        'sitemap.paid_education': 'Paid Education',
        'sitemap.international': 'International Relations',

        // Футер
        'footer.questions': 'If you have any questions, please contact',
        'footer.suggestions': 'If you have suggestions, you can write to us',
        'footer.copyright': '© 2019-2025 BSEU FDE',
        'footer.address': '220070, Minsk, Partizansky Ave. 26, building 1, room 1205'
    },
    'zh': {
        // Меню
        'menu.about': '关于学院',
        'menu.for_students': '给学生',
        'menu.for_applicants': '给申请人',
        'menu.science': '科学',
        'menu.departments': '部门',
        'menu.links': '链接',
        'menu.contacts': '联系方式',
        'menu.sitemap': '网站地图',

        'menu.fac-tit': '数字经济学院',
        'menu.fac-desc': '数字经济学院',
        'menu.stud-tit': '给学生',
        'menu.stud-desc': '学习所需的一切',
        'menu.abitur-tit': '给申请人',
        'menu.abitur-desc': '关于入学的一切',
        'menu.science-tit': '科研活动',
        'menu.science-desc': '研究与开发',
        'menu.faculty-tit': '我们的部门',
        'menu.faculty-desc': '专业教育',

        // Подменю
        'submenu.history': '历史',
        'submenu.deans_office': '院长办公室',
        'submenu.student_council': '学生会',
        'submenu.trade_union': '工会',
        'submenu.brsm': '白俄罗斯青年联盟',
        'submenu.schedule': '时间表',
        'submenu.materials': '学习资料',
        'submenu.scholarships': '奖学金',
        'submenu.admission_rules': '录取规则',
        'submenu.courses': '预备课程',
        'submenu.open_days': '开放日',
        'submenu.directions': '研究方向',
        'submenu.conferences': '会议',
        'submenu.publications': '出版物',
        'submenu.economic_informatics': '经济信息学',

        // Карта сайта
        'sitemap.title': '网站地图',
        'sitemap.faculty': '关于学院',
        'sitemap.faculty_history': '历史',
        'sitemap.faculty_deanery': '院长办公室',
        'sitemap.student_life': '学生生活',
        'sitemap.science': '科学',
        'sitemap.library': '电子图书馆',
        'sitemap.contacts': '联系方式',
        'sitemap.student': '给学生',
        'sitemap.schedule': '时间表',
        'sitemap.disciplines': '学科',
        'sitemap.forms': '申请表',
        'sitemap.portal': '教育门户',
        'sitemap.departments': '部门',
        'sitemap.higher_math': '高等数学',
        'sitemap.it': '信息技术',
        'sitemap.math_methods': '经济数学方法',
        'sitemap.statistics': '统计',
        'sistemap.enonomicinformatics': '经济信息学',
        'sitemap.applicant': '给申请人',
        'sitemap.admission': '招生',
        'sitemap.specialties': '专业',
        'sitemap.scores': '往年录取分数',
        'sitemap.docs_deadlines': '文件提交截止日期',
        'sitemap.docs_list': '文件清单',
        'sitemap.study_terms': '学习期限',
        'sitemap.open_days': '开放日时间表',
        'sitemap.dormitory': '宿舍',
        'sitemap.paid_education': '付费教育',
        'sitemap.international': '国际关系',

        // Футер
        'footer.questions': '如果您有任何问题，请联系',
        'footer.suggestions': '如果您有建议，可以写信给我们',
        'footer.copyright': '© 2019-2025 白俄罗斯国立经济大学数字经济学院',
        'footer.address': '220070, 明斯克市, 游击队大街26号, 1号楼, 1205'
    }
};

const translationUpdates = {
    'ru': {
        'submenu.student_council': 'Студенческая жизнь',
        'submenu.schedule': 'Новости факультета',
        'submenu.admission_rules': 'Перечень документов',
        'submenu.courses': 'Специальности',
        'submenu.open_days': 'Сроки приема документов',
        'submenu.hostel': 'Общежитие',
        'submenu.open_door_day': 'Дни открытых дверей',
        'submenu.introductory_campaign': 'Вступительная кампания',
        'submenu.directions': 'Наука',
        'submenu.economic_informatics': 'Кафедры'
    },
    'be': {
        'submenu.student_council': 'Студэнцкае жыццё',
        'submenu.schedule': 'Навіны факультэта',
        'submenu.admission_rules': 'Пералік дакументаў',
        'submenu.courses': 'Спецыяльнасці',
        'submenu.open_days': 'Тэрміны прыёму дакументаў',
        'submenu.hostel': 'Інтэрнат',
        'submenu.open_door_day': 'Дні адкрытых дзвярэй',
        'submenu.introductory_campaign': 'Уступная кампанія',
        'submenu.directions': 'Навука',
        'submenu.economic_informatics': 'Кафедры'
    },
    'en': {
        'submenu.student_council': 'Student Life',
        'submenu.schedule': 'Faculty News',
        'submenu.admission_rules': 'List of documents',
        'submenu.courses': 'Specialties',
        'submenu.open_days': 'Document submission deadlines',
        'submenu.hostel': 'Dormitory',
        'submenu.open_door_day': 'Open days',
        'submenu.introductory_campaign': 'Admission campaign',
        'submenu.directions': 'Science',
        'submenu.economic_informatics': 'Departments'
    },
    'zh': {
        'submenu.student_council': '学生生活',
        'submenu.schedule': '学院新闻',
        'submenu.admission_rules': '文件清单',
        'submenu.courses': '专业',
        'submenu.open_days': '文件提交截止日期',
        'submenu.hostel': '宿舍',
        'submenu.open_door_day': '开放日',
        'submenu.introductory_campaign': '招生活动',
        'submenu.directions': '科学',
        'submenu.economic_informatics': '部门'
    }
};

// Объединяем обновления с существующими переводами
for (const lang in translationUpdates) {
    if (translations[lang]) {
        Object.assign(translations[lang], translationUpdates[lang]);
    } else {
        translations[lang] = translationUpdates[lang];
    }
}


// Функция для перевода текста
function translatePage(language) {
    document.documentElement.lang = language;
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[language] && translations[language][key]) {
            element.textContent = translations[language][key];
        }
    });

    // Для атрибутов placeholder, title и т.д. можно добавить дополнительную обработку
    const elementsWithAttr = document.querySelectorAll('[data-i18n-attr]');
    elementsWithAttr.forEach(element => {
        const [key, attr] = element.getAttribute('data-i18n-attr').split('|');
        if (translations[language] && translations[language][key]) {
            element.setAttribute(attr, translations[language][key]);
        }
    });
}

// Инициализация и обработчики событий
document.addEventListener('DOMContentLoaded', function() {
    // Десктопная версия
    const languageItems = document.querySelectorAll('.language-dropdown-item');
    const languageDropdown = document.getElementById('languageDropdown');
    const desktopLanguageIcon = document.getElementById('desktopLanguageIcon');

    if (desktopLanguageIcon) {
        desktopLanguageIcon.addEventListener('click', function(e) {
            e.stopPropagation();
            languageDropdown.style.display = languageDropdown.style.display === 'block' ? 'none' : 'block';
        });
    }

    languageItems.forEach(item => {
        item.addEventListener('click', function(e) {
            e.stopPropagation();
            const lang = this.getAttribute('data-lang');
            if (lang && translations[lang]) {
                languageItems.forEach(el => el.classList.remove('active'));
                this.classList.add('active');
                translatePage(lang);
                languageDropdown.style.display = 'none';
            }
        });
    });

    document.addEventListener('click', function() {
        languageDropdown.style.display = 'none';
    });

    // Мобильная версия
    const burgerMenu = document.querySelector('.burger-menu');
    const sideMenu = document.querySelector('.side-menu');
    const overlay = document.querySelector('.overlay');
    const menuItems = document.querySelectorAll('.menu-item');
    const mobileLanguageIcon = document.getElementById('mobileLanguageIcon');

    if (burgerMenu) {
        burgerMenu.addEventListener('click', function(e) {
            e.stopPropagation();
            this.classList.toggle('active');
            sideMenu.classList.toggle('active');
            overlay.classList.toggle('active');
            document.body.style.overflow = sideMenu.classList.contains('active') ? 'hidden' : '';
        });

        overlay.addEventListener('click', function() {
            burgerMenu.classList.remove('active');
            sideMenu.classList.remove('active');
            this.classList.remove('active');
            document.body.style.overflow = '';
        });

        menuItems.forEach(item => {
            const title = item.querySelector('.menu-title');
            title.addEventListener('click', () => {
                const isActive = item.classList.contains('active');
                menuItems.forEach(i => i.classList.remove('active'));
                if (!isActive) item.classList.add('active');
            });
        });

        if (mobileLanguageIcon) {
            mobileLanguageIcon.addEventListener('click', function() {
                const currentLang = document.documentElement.lang || 'ru';
                const langs = ['ru', 'be', 'en', 'zh'];
                const nextLang = langs[(langs.indexOf(currentLang) + 1) % langs.length];
                translatePage(nextLang);
            });
        }
    }

    // Начальная загрузка русской версии
    translatePage('ru');
});